import { Meta, Story, Canvas } from '@storybook/addon-docs';

import * as useFiber from '../../../core/hooks/lumby.fiber.hook';

<Meta title="Core/Hooks/useLumbyFiber" component={useFiber} />

## useLumbyFiber

This hook uses `zustand` to react to anything that happens to the fiber's canvas.<br/>
If `fid` property is provided, the hook connects to global store set up with `zustand`. Components connected to the Lumby's layer
with `fid` can be manipulated by `useLumbyFiber` hook anywhere else in the app. `fid` components read their canvas setup from global
store. The canvas setup is then used by [canvasStylesheet]() util to build an object with callbacks for specific CSS attributes
adjusted with latest theme and fiber changes.

```typescript
import { useLumbyFiber } from '@devutnia/lumby/core';

const { setFiber, fiber, canvas } = useLumbyFiber(fid?: string, addFiber?: Partial<LumbyFiber>);
const styles = canvas();

console.log(fiber); // current fiber object
console.log(setFiber(differentFiber)); // overwrites current fiber
console.log(fiber); // differentFiber object
console.log(canvas); // returns a callback that triggers building new
                     // canvas stylesheet based on current `fiber`
console.log(styles); // an object with attribute-specific CSS callbacks

...

const initialStyles = {
  color: styles.color(),
  backgroundColor: styles.backgroundColor('pink'),
  ...
}
```
